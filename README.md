---

#### **1. Обзор игры**
"SpaceWar" — это аркадная игра, в которой игрок управляет космическим кораблем, защищаясь от налетающих врагов. Цель игры — набрать как можно больше очков, уничтожая вражеские корабли и избегая столкновений. Игра заканчивается, если вражеский корабль достигает линии игрока.


![GamePlay](https://github.com/user-attachments/assets/6ebdc1d2-3194-406e-ac27-8b71fb95c569)

---

#### **2. Основные функции игры**

1. **Управление игроком**:

   - Игрок управляет космическим кораблем с помощью клавиш:
     - **Стрелка вверх** или **W** — движение вверх.
     - **Стрелка вниз** или **S** — движение вниз.
     - **Пробел** — стрельба.

2. **Враги**:

   - Вражеские корабли появляются с правой стороны экрана и движутся влево.
   - Если вражеский корабль достигает линии игрока, игра заканчивается.

3. **Стрельба**:

   - Игрок может стрелять по врагам, используя патроны.
   - Патроны восстанавливаются с течением времени.

4. **Очки**:

   - Игрок получает очки за каждого уничтоженного врага.

5. **Таймер**:

   - Таймер отображает время, прошедшее с начала игры.

6. **Пауза**:

   - Игра можно приостановить, нажав клавишу **Esc**.

7. **Перезапуск**:
   - Игра перезапускается, если нажать клавишу **R**.

---

#### **3. Структура кода**

Игра написана с использованием фреймворка **Phaser 3**. Основной класс игры — `SpaceWar`, который наследуется от `Phaser.Scene`.

---

#### **4. Основные методы игры**

1. **`preload()`**:

   - Загружает все ресурсы, необходимые для игры (изображения, анимации, звуки).

2. **`create()`**:

   - Инициализирует игровые объекты:
     - Создает задний фон.
     - Создает анимации для корабля игрока, врагов и взрывов.
     - Создает игрока, пули, врагов и группы для управления объектами.
     - Настраивает обработчики событий клавиатуры.

3. **`update(time, delta)`**:

   - Основной игровой цикл, который выполняется каждый кадр.
   - Обновляет положение корабля, пули, врагов и таймер.

4. **`handleDirectionInput()`**:

   - Определяет направление движения корабля игрока на основе нажатых клавиш.

5. **`moveShip(delta)`**:

   - Перемещает корабль игрока в зависимости от направления.

6. **`handleShooting(time)`**:

   - Обрабатывает стрельбу игрока, если нажата клавиша пробела.

7. **`regenerateAmmo(time)`**:

   - Восстанавливает патроны с течением времени.

8. **`spawnEnemy(time)`**:

   - Создает вражеские корабли через определенные промежутки времени.

9. **`destroyEnemy(bullet, enemy)`**:

   - Уничтожает вражеский корабль при столкновении с пулей.

10. **`isLooseGame()`**:

    - Проверяет, достиг ли вражеский корабль линии игрока. Если да, игра заканчивается.

11. **`restartGame()`**:

    - Перезапускает игру, сбрасывая все состояния и таймер.

12. **`togglePause()`**:

    - Приостанавливает или возобновляет игру.

13. **`updateTimer(time)`**:
    - Обновляет таймер, отображающий время игры.

---

#### **5. Основные переменные игры**

- **`this.shipSpeed`**: Скорость движения корабля игрока.
- **`this.direction`**: Направление движения корабля (вверх, вниз или `null`).
- **`this.gameTime`**: Время игры, отслеживаемое вручную.
- **`this.maxAmmo`**: Максимальное количество патронов.
- **`this.currentAmmo`**: Текущее количество патронов.
- **`this.ammoRegenerate`**: Скорость восстановления патронов.
- **`this.lastAmmoRegenTime`**: Время последнего восстановления патронов.
- **`this.lastShotTime`**: Время последнего выстрела.
- **`this.shootDelay`**: Задержка между выстрелами.
- **`this.enemySpawnDelay`**: Интервал появления врагов.
- **`this.lastEnemySpawnTime`**: Время последнего появления врага.
- **`this.currentScore`**: Текущий счет игрока.
- **`this.isPaused`**: Флаг, указывающий, находится ли игра на паузе.
- **`this.hasLost`**: Флаг, указывающий, проиграл ли игрок.

---

#### **6. Основные группы объектов**

- **`this.bullets`**: Группа пуль, выпущенных игроком.
- **`this.enemies`**: Группа вражеских кораблей.
- **`this.enemyEngineFires`**: Группа огня двигателя врагов.
- **`this.explosions`**: Группа взрывов при уничтожении врагов.

---

#### **7. Основные события**

- **`keydown-ESC`**: Обработчик для паузы игры.
- **`keydown-R`**: Обработчик для перезапуска игры.
- **`animationcomplete`**: Событие, срабатывающее после завершения анимации взрыва.

---

#### **8. Локальное хранилище**

- **`localStorage.getItem('bestScore')`**: Сохраняет лучший результат игрока.
- **`localStorage.setItem('bestScore', this.currentScore)`**: Обновляет лучший результат, если текущий счет выше.

---

#### **9. Как работает таймер**

- Таймер основан на переменной `this.gameTime`, которая увеличивается на значение `delta` (время между кадрами) в методе `update`.
- При перезапуске или проигрыше игры переменная `this.gameTime` сбрасывается на `0`, и таймер обновляется на `00:00`.

---

#### **10. Как запустить игру**

1. Убедитесь, что у вас установлен веб-сервер (например, Live Server в VS Code).
2. Установите зависиомсти

```bash
npm install
```

3. Откройте файл `index.html` в браузере.
4. Игра запустится автоматически.

---
